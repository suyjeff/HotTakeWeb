<!DOCTYPE html>

<html lang="en">

    <head>
        <title>HotTake - What's Hot</title>
        <link href="styles.css" rel="stylesheet" type="text/css" media="all">
        <link href="app.css" rel="stylesheet" type="text/css" media="all">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://use.typekit.net/nwy3jid.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
        <link rel="manifest" href="assets/favicon/site.webmanifest">
    </head>

    <body>

        <div class="page-body">
            <p class="page-title-large">What's Hot</p>
            <div class="tab-page">
                <p class="subtitle">Your Chats</p>
                <div class="chat-list-item" onclick="location.href='chatspage.html';">
                    <img class="team-image" src="" alt="Team Image">
                    <div>
                        <p class="team-name">Team Name</p>
                        <p class="members">People in Chat</p>
                    </div>
                </div>
                <p class="subtitle">Your Scores</p>
                <div class="scorecard">
                    <div class="scorecard-game-info">
                        <p style="margin: 0;"><span class="game-time">Game Time</span><span class="quarter">Quarter</span></p>
                    </div>
                    <div class="scorecard-teams-container">
                        <div class="scorecard-team-card left-team">
                            <p style="margin: 4px;"><span class="scorecard-team">Jets</span><span class="scorecard-team-record">0-8</span></p>
                            <p class="scorecard-score">24</p>
                        </div>
                        <div class="scorecard-team-card right-team">
                            <p style="margin: 4px;"><span class="scorecard-team">Patriots</span><span class="scorecard-team-record">3-5</span></p>
                            <p class="scorecard-score">7</p>
                        </div>
                    </div>
                </div>
                
            </div>
            
        </div>

        <div class="tab-bar">
            <div class="tab-bar-item active">
                <img class="tab-bar-img" src="assets/icons/fire_icon.svg" alt="Fire Icon">
            </div>
            <div class="tab-bar-item" onclick="location.href='chat.html';">
                <img class="tab-bar-img" src="assets/icons/chat_icon.svg" alt="Chat Icon">
            </div>
            <div class="tab-bar-item" onclick="location.href='userpage.html';">
                <img class="tab-bar-img" src="assets/icons/user_icon.svg" alt="User Icon">
            </div>
        </div>

        <script src="tabbar.js"></script>

        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
        <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
        <!-- Add Firebase products that you want to use -->
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>
        <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyC5Hg9BK3TYLPEkEgicBjYnS0zqrJxEUdE",
            authDomain: "hottake-af593.firebaseapp.com",
            databaseURL: "https://hottake-af593.firebaseio.com",
            projectId: "hottake-af593",
            storageBucket: "hottake-af593.appspot.com",
            messagingSenderId: "1022543631385",
            appId: "1:1022543631385:web:90f7d0ae19d193c8ae4688"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);        
        </script>        
    </body>
</html>
<script>
    // Set db
    var db = firebase.firestore();

    // Firebase observer
    firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
        var email = user.email;
        console.log(email);
        db.collection("users").doc(email).get().then(function(doc) {
            if (doc.exists) {
                console.log(doc.data().team);
                document.getElementsByClassName("team-name")[0].innerHTML = doc.data().team;
                document.getElementsByClassName("team-image")[0].src = "assets/team_images/" + doc.data().team + ".png";
            }
        }).catch(function(error) {
            console.error("Error getting user info: ", error);
        });
    } 
    });
</script>